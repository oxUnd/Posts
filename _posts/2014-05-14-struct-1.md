---
layout: post
title: "那些年我们落下的课-数据结构01-链表"
date: 2014-05-14 08:04:08
categories: algorithm
---

毕业快四年了，多多少少在自己的职业上有了一些积累。积累的是一些做事的经验，还有的也就是什么话该说什么不能说以及什么时候说。但反思知识体系，实在映衬不住四年的工作经验。

工作了那么长时间，在实现一个功能的时候也是使用语言提供的API，跟刚毕业的学生没什么两样时，也许只是熟悉了一个体系或者有更多的见识，多少显得尴尬。索性就拿起一本算法书在闲暇的时候研究研究。

由于在大学属于学渣性，选择了一本贴近编程实践的书"[算法精解：C语言描述][1]"；看了大概1/3，在实现上对我有很多启示。

学校时，实现链表的时候大概是没有怎么看书。每次都是用`list_element`的数据结构作为表头；

```c
typedef struct list_element_ {
    void * data;
    struct list_element_ *next;
} list_element;
```

先指定一个头元素

```c
list_element head;
```

然后在`add`时，填充_next_。这种方式如果想知道表大小，得从`head`遍历一遍，如此需要遍历一遍整个链。

如果拿一个新的结构存储链表的`size`，每次添加节点的时候`size++`，删除节点的时候`size--`，就可以直接读出表大小。

```c
typedef struct list_ {
    int size;
    list_element *head;
    list_element *tail;
} list;
```

用这样一个结构来记录链表的一些变化，如果想在表尾添加一个节点，也可以在O(1)的复杂度下完成；获取表大小也可以在O(1)的复杂度下完成。

看到书上实现的细节，豁然开朗。

> 其实并不是经典数据结构限定了应该用什么样的解构去解决问题，而是教会怎样构造一个结构可以得到更好的实现和性能，就像设计类一样。

这本书还描述了作为链表这样的一个数据结构有可能有什么样的用途，可以加深对此结构的理解。另外，中文译本有多处错误，可下载英文原版对照阅读；当然如果英文学的很溜，就直接英文吧。


[1]:    http://www.amazon.cn/gp/product/B00E87TVL0/ref=oh_d__o05_details_o05__i00?ie=UTF8&psc=1 "算法精解：C语言描述"